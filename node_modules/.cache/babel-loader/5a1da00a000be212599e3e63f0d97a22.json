{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\NhanLee\\\\Downloads\\\\p2p-chat\\\\example\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\NhanLee\\\\Downloads\\\\p2p-chat\\\\example\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"C:\\\\Users\\\\NhanLee\\\\Downloads\\\\p2p-chat\\\\example\\\\src\\\\components\\\\Chat\\\\Chat.tsx\";\n\nfunction _templateObject7() {\n  const data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  const data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 300px;\\n  overflow-y: scroll;\\n  display: flex;\\n  flex-direction: column-reverse;\\n  border: 1px solid black;\\n  border-top: none;\\n  border-bottom: none;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  const data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  const data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: flex;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n  width: 700%;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  width: 300%;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useCallback, memo, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { useChat } from '../../module/useChat/useChat';\nimport { ChatMessage } from './ChatMessage';\nimport { PageHeader } from '../PageHeader/PageHeader';\nimport { TextArea } from '../TextArea/TextArea';\nimport { Button } from '../Button/Button';\nimport { FileSharing } from '../FileSharing/FileSharing';\nconst MessageButton = styled(Button)(_templateObject());\nconst StyledFileSharing = styled(FileSharing)(_templateObject2());\nconst MessageTextArea = styled(TextArea)(_templateObject3());\nconst MessageForm = styled.form(_templateObject4());\nconst MessagesInnerContainer = styled.div(_templateObject5());\nconst MessagesContainer = styled.div(_templateObject6());\nconst Container = styled.div(_templateObject7());\nexport const Chat = memo(function Chat() {\n  const _useChat = useChat(),\n        chatMessages = _useChat.chatMessages,\n        sendTextChatMessage = _useChat.sendTextChatMessage;\n\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        messageToSend = _useState2[0],\n        setMessageToSend = _useState2[1];\n\n  const formRef = useRef();\n  const send = useCallback(() => {\n    sendTextChatMessage(messageToSend);\n    setMessageToSend('');\n  }, [sendTextChatMessage, messageToSend, setMessageToSend]);\n  const handleTextAreaChange = useCallback(event => {\n    event.preventDefault();\n    event.stopPropagation();\n    setMessageToSend(event.target.value);\n  }, [setMessageToSend]);\n  const handleTextAreaKeyDown = useCallback(event => {\n    if (event.which !== 13 && event.keyCode !== 13 || event.shiftKey) return;\n    if (!formRef.current) return;\n    event.preventDefault();\n    event.stopPropagation();\n    send();\n  }, [send]);\n  const handleSubmit = useCallback(event => {\n    event.preventDefault();\n    event.stopPropagation();\n    send();\n  }, [send]);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, \"Chat\"), /*#__PURE__*/React.createElement(MessagesContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MessagesInnerContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, chatMessages.map(chatMessage => /*#__PURE__*/React.createElement(ChatMessage, {\n    key: chatMessage.id,\n    chatMessage: chatMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(MessageForm, {\n    ref: formRef,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StyledFileSharing, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(MessageTextArea, {\n    placeholder: \"Message...\",\n    value: messageToSend,\n    onChange: handleTextAreaChange,\n    onKeyDown: handleTextAreaKeyDown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(MessageButton, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, \"Send\")));\n});","map":{"version":3,"sources":["C:/Users/NhanLee/Downloads/p2p-chat/example/src/components/Chat/Chat.tsx"],"names":["React","useCallback","memo","useRef","useState","styled","useChat","ChatMessage","PageHeader","TextArea","Button","FileSharing","MessageButton","StyledFileSharing","MessageTextArea","MessageForm","form","MessagesInnerContainer","div","MessagesContainer","Container","Chat","chatMessages","sendTextChatMessage","messageToSend","setMessageToSend","formRef","send","handleTextAreaChange","event","preventDefault","stopPropagation","target","value","handleTextAreaKeyDown","which","keyCode","shiftKey","current","handleSubmit","map","chatMessage","id"],"mappings":"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","sourcesContent":["import React, { useCallback, memo, FC, useRef, useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { useChat } from '../../module/useChat/useChat';\r\nimport { ChatMessage } from './ChatMessage';\r\nimport { PageHeader } from '../PageHeader/PageHeader';\r\nimport { TextArea } from '../TextArea/TextArea';\r\nimport { Button } from '../Button/Button';\r\nimport { FileSharing } from '../FileSharing/FileSharing';\r\n\r\nconst MessageButton = styled(Button)`\r\n  width: 300%;\r\n`;\r\nconst StyledFileSharing = styled(FileSharing)``;\r\nconst MessageTextArea = styled(TextArea)`\r\n  width: 700%;\r\n`;\r\nconst MessageForm = styled.form`\r\n  width: 100%;\r\n  display: flex;\r\n`;\r\nconst MessagesInnerContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst MessagesContainer = styled.div`\r\n  width: 100%;\r\n  height: 300px;\r\n  overflow-y: scroll;\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  border: 1px solid black;\r\n  border-top: none;\r\n  border-bottom: none;\r\n`;\r\nconst Container = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const Chat: FC = memo(function Chat() {\r\n  const { chatMessages, sendTextChatMessage } = useChat();\r\n  const [messageToSend, setMessageToSend] = useState<string>('');\r\n  const formRef = useRef<HTMLFormElement>();\r\n\r\n  const send = useCallback(() => {\r\n    sendTextChatMessage(messageToSend);\r\n    setMessageToSend('');\r\n  }, [sendTextChatMessage, messageToSend, setMessageToSend]);\r\n\r\n  const handleTextAreaChange: React.ChangeEventHandler<HTMLTextAreaElement> = useCallback(\r\n    (event) => {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      setMessageToSend(event.target.value);\r\n    },\r\n    [setMessageToSend],\r\n  );\r\n\r\n  const handleTextAreaKeyDown: React.KeyboardEventHandler<HTMLTextAreaElement> = useCallback(\r\n    (event) => {\r\n      if ((event.which !== 13 && event.keyCode !== 13) || event.shiftKey) return;\r\n      if (!formRef.current) return;\r\n\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      send();\r\n    },\r\n    [send],\r\n  );\r\n\r\n  const handleSubmit: React.FormEventHandler = useCallback(\r\n    (event) => {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      send();\r\n    },\r\n    [send],\r\n  );\r\n\r\n  return (\r\n    <Container>\r\n      <PageHeader>Chat</PageHeader>\r\n      <MessagesContainer>\r\n        <MessagesInnerContainer>\r\n          {chatMessages.map((chatMessage) => (\r\n            <ChatMessage key={chatMessage.id} chatMessage={chatMessage} />\r\n          ))}\r\n        </MessagesInnerContainer>\r\n      </MessagesContainer>\r\n      <MessageForm ref={formRef as React.MutableRefObject<HTMLFormElement>} onSubmit={handleSubmit}>\r\n        <StyledFileSharing />\r\n        <MessageTextArea\r\n          placeholder=\"Message...\"\r\n          value={messageToSend}\r\n          onChange={handleTextAreaChange}\r\n          onKeyDown={handleTextAreaKeyDown}\r\n        />\r\n        <MessageButton type=\"submit\">Send</MessageButton>\r\n      </MessageForm>\r\n    </Container>\r\n  );\r\n});\r\n"]},"metadata":{},"sourceType":"module"}